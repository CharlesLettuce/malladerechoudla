<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Interactiva Derecho UChile</title>
  <meta name="description" content="Explora la malla curricular interactiva de Derecho en la Universidad de Chile. Marca tus ramos aprobados, guarda tu progreso y disfruta de un dise√±o responsive con TailwindCSS." />

  <!-- Tailwind CSS (JIT CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    /* Extensi√≥n de paleta corporativa */
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "law-pink-light": "#ffeef5",
            "law-pink-medium": "#ffccd9",
            "law-pink-dark": "#ff9ab3",
            "law-gray-passed": "#d1d5db" // gray‚Äë300
          },
          fontFamily: {
            pop: ['Poppins', 'sans-serif']
          }
        }
      }
    };
  </script>

  <!-- Tipograf√≠a headline -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet" />

  <!-- Confetti library para celebraci√≥n -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <!-- Estilos extra (estado passed, glass y 3D) -->
  <style>
    /* estado aprobado sin @apply (funciona directo en navegador) */
    .passed{
      background-color:#d1d5db; /* gray‚Äë300 */
      color:#4b5563;            /* gray‚Äë600 */
      text-decoration:line-through;
      font-style:italic;
      box-shadow:inset 0 0 4px rgba(0,0,0,0.1);
    }
    /* Glass effect card */
    .glass{
      backdrop-filter: blur(4px) saturate(150%);
      background: rgba(255, 204, 217, 0.55);
    }
  </style>
</head>
<body class="bg-law-pink-light min-h-screen text-[15px] sm:text-base font-sans">
  <!-- ‚òùÔ∏è Cabecera con saludo personalizado -->
  <header id="userHeader" class="sticky top-0 z-10 w-full text-center bg-law-pink-medium py-4 text-2xl font-pop font-bold shadow-lg">
    Malla Derecho
  </header>

  <!-- üìö Contenedor principal (scroll horizontal en m√≥vil, wrap en desktop) -->
  <main class="flex gap-6 p-6 overflow-x-auto scroll-smooth snap-x snap-mandatory md:flex-wrap md:justify-center">

    <!-- ========== Semestres ========== -->
    <!-- Helper para generar columnas: cada .semester contiene cursos -->

    <!-- ############ SEMESTRE 1 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 1</h3>
      <div class="course" data-id="c1">Taller de Escritura</div>
      <div class="course" data-id="c2">Derecho Pol√≠tico</div>
      <div class="course" data-id="c3">Introducci√≥n al Derecho Privado</div>
      <div class="course" data-id="c4">Historia de las Instituciones Jur√≠dicas</div>
      <div class="course" data-id="c5">Introducci√≥n al Derecho</div>
    </section>

    <!-- ############ SEMESTRE 2 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 2</h3>
      <div class="course" data-id="c6">Expresi√≥n Oral y Argumentaci√≥n</div>
      <div class="course" data-id="c7">Pol√≠ticas de Equidad y G√©nero</div>
      <div class="course" data-id="c8">Derecho Constitucional Org√°nico</div>
      <div class="course" data-id="c9">Acto Jur√≠dico</div>
      <div class="course" data-id="c10">Historia Institucional de Chile</div>
    </section>

    <!-- ############ SEMESTRE 3 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 3</h3>
      <div class="course" data-id="c11">Sustentabilidad y Medio Ambiente</div>
      <div class="course" data-id="c12">Introducci√≥n a la Econom√≠a</div>
      <div class="course" data-id="c13">Derechos Fundamentales</div>
      <div class="course" data-id="c14">Bienes</div>
      <div class="course" data-id="c15">Fundamentos del Derecho Procesal</div>
    </section>

    <!-- ############ SEMESTRE 4 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 4</h3>
      <div class="course" data-id="c16">Fund. Derecho Penal y Teor√≠a del Delito</div>
      <div class="course" data-id="c17">Acciones Constitucionales</div>
      <div class="course" data-id="c18">Derecho Administrativo I</div>
      <div class="course" data-id="c19">Obligaciones</div>
      <div class="course" data-id="c20">Normas Comunes a todo Procedimiento</div>
    </section>

    <!-- ############ SEMESTRE 5 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 5</h3>
      <div class="course" data-id="c21">Participaci√≥n Criminal y Penal</div>
      <div class="course" data-id="c22">Derecho del Trabajo I</div>
      <div class="course" data-id="c23">Derecho Administrativo II</div>
      <div class="course" data-id="c24">Responsabilidad</div>
      <div class="course" data-id="c25">Procedimientos Civiles</div>
    </section>

    <!-- ############ SEMESTRE 6 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 6</h3>
      <div class="course" data-id="c26">Estudio de los Delitos</div>
      <div class="course" data-id="c27">Derecho del Trabajo II</div>
      <div class="course" data-id="c28">Derecho Internacional P√∫blico</div>
      <div class="course" data-id="c29">Contratos</div>
      <div class="course" data-id="c30">Recursos Procesales y Juicio Ejecutivo</div>
    </section>

    <!-- ############ SEMESTRE 7 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 7</h3>
      <div class="course" data-id="c31">Proceso Penal</div>
      <div class="course" data-id="c32">Derecho Econ√≥mico</div>
      <div class="course" data-id="c33">Derecho Comercial I</div>
      <div class="course" data-id="c34">Derecho de Familia</div>
      <div class="course" data-id="c35">Soluci√≥n Alternativa de Conflictos</div>
    </section>

    <!-- ############ SEMESTRE 8 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 8</h3>
      <div class="course" data-id="c36">Multiculturalidad y Migraciones</div>
      <div class="course" data-id="c37">Taller de Litigaci√≥n</div>
      <div class="course" data-id="c38">Derecho Comercial II</div>
      <div class="course" data-id="c39">Derecho Sucesorio</div>
      <div class="course" data-id="c40">Procedimientos de Familia</div>
    </section>

    <!-- ############ SEMESTRE 9 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 9</h3>
      <div class="course" data-id="c41">√âtica</div>
      <div class="course" data-id="c42">Derecho Tributario I</div>
      <div class="course" data-id="c43">Filosof√≠a del Derecho</div>
      <div class="course" data-id="c44">Seminario Integraci√≥n Derecho Privado</div>
      <div class="course" data-id="c45">Cl√≠nica I</div>
    </section>

    <!-- ############ SEMESTRE 10 ############ -->
    <section class="semester snap-center glass rounded-2xl p-5 w-72 flex-shrink-0 shadow-xl hover:shadow-2xl transition md:w-64 lg:w-80">
      <h3 class="text-center text-lg font-semibold mb-3 text-rose-900">Semestre 10</h3>
      <div class="course" data-id="c46">Derecho Tributario II</div>
      <div class="course" data-id="c47">Taller de Investigaci√≥n Jur√≠dica</div>
      <div class="course" data-id="c48">Seminario Integraci√≥n Derecho P√∫blico</div>
      <div class="course" data-id="c49">Cl√≠nica II</div>
    </section>

  </main>
  <!-- üß†¬†JS¬†‚Üí¬†prompt de usuario + persistencia (cookies) + toggle de ramos + confeti -->
  <script>
    /* ---------------- helpers de cookies ---------------- */
    const setCookie = (name, value, days = 365) => {
      const exp = new Date(Date.now() + days*864e5).toUTCString();
      document.cookie = `${name}=${encodeURIComponent(value)};expires=${exp};path=/`;
    };
    const getCookie = name => {
      const m = document.cookie.split('; ').find(r => r.startsWith(name+'='));
      return m ? decodeURIComponent(m.split('=')[1]) : '';
    };

    /* ---------------- saludo inicial -------------------- */
    let userName = getCookie('law_user');
    if(!userName){
      userName = prompt('¬°Bienvenida/o! ¬øC√≥mo te llamas?')?.trim() || 'Estudiante';
      setCookie('law_user', userName);
    }
    document.getElementById('userHeader').textContent = `Malla Derecho ‚Äì ${userName}`;

    /* ---------------- estado almacenado ----------------- */
    let passed = [];
    try{ passed = JSON.parse(getCookie('law_passed') || '[]'); }catch(e){ passed = []; }

    /* ---------------- gestor de clic -------------------- */
    document.querySelectorAll('.course').forEach(course => {
      const id = course.dataset.id;
      if(passed.includes(id)) course.classList.add('passed');

      course.addEventListener('click', () => {
        const willPass = !course.classList.contains('passed');
        course.classList.toggle('passed');

        if(willPass){
          if(!passed.includes(id)) passed.push(id);
          confetti({ particleCount: 120, spread: 70, origin:{ y:0.6 } });
        }else{
          passed = passed.filter(r => r !== id);
        }
        setCookie('law_passed', JSON.stringify(passed));
      });
    });
  </script>
</body>
</html>
